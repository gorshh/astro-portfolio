---
import Container from "../common/Container.astro";
import P from "../common/P.astro";
---

<Container as="section" id="about">
  <P as="h2" size="display-xxl" class="about--title">About</P>
  <div class="about--content">
    <P size="heading-xl" class="about--description">
      Jorge <span>(hor-HEH)</span> Lorem ipsum, dolor sit amet consectetur adipisicing
      elit. Laudantium illo magnam facilis id adipisci commodi minus perferendis,
      fugiat corrupti magni modi neque molestias quae cum blanditiis soluta at aliquam
      quidem? Lorem ipsum dolor sit amet consectetur adipisicing elit.
    </P>
    <div class="about--current-job">
      <p class="about--current-job--title-section">
        Creating incredible products at Argentinaâ€™s leading unicorn.
      </p>
      <div class="about--current-job--detail">
        <span class="about--current-job--img">
          <img
            src="https://statics.globant.com/production/public/Fav-icon_Globant_8_2.png"
            alt=""
          />
        </span>
        <div class="about--current-job--description">
          <p class="about--current-job--title">Senior Web Developer</p>
          <p class="about--current-job--company">Globant</p>
        </div>
      </div>
    </div>
  </div>
</Container>

<style>
  #about {
    color: var(--black-color);
    background-color: var(--white-color);
    display: flex;
    padding-bottom: 13rem;
    padding-top: 13rem;
    border-top-left-radius: 1rem;
    border-top-right-radius: 1rem;
    justify-content: space-between;
    align-items: center;

    @media (max-width: 920px) {
      flex-direction: column;

      padding-bottom: 2rem;
      padding-top: 2rem;
    }

    .about--title {

      @media (max-width: 920px) {
        align-self: baseline;
      }
    }

    .about--content {
      width: 70%;

      @media (max-width: 920px) {
        max-width: 75ch;
        width: 100%;
      }

      @media (max-width: 522px) {
        width: 100%;
      }

      
    }
    .about--description {
      margin-bottom: 33px;

      span {
        font-size: 1rem;
      }



    }

    .about--current-job--detail {
      display: flex;
    }

    .about--current-job--img {
      background-color: #0000001f;
      border-radius: 0.6rem;
      justify-content: center;
      align-items: center;
      width: 3rem;
      height: 3rem;
      margin-right: 0.5rem;
      display: flex;

      img {
        filter: none;
        object-fit: cover;
        border-radius: 0.3rem;
        width: 1.7rem;
        min-width: 1.7rem;
        margin-left: 0.2rem;
      }
    }

    .about--current-job--description {
      display: flex;
      flex-direction: column;
      justify-content: center;
    }
    .about--current-job {
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }

    .about--current-job--title-section {
      font-size: 0.85rem;
      text-transform: uppercase;
      font-weight: 500;
    }

    .about--current-job--title {
      font-size: 0.85rem;
      font-weight: 600;
    }

    .about--current-job--company {
      color: gray;
      font-weight: 300;
      font-size: 0.85rem;
    }
  }
</style>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    // const navbar = document.getElementById("navbar")!;
    const triggerSection = document.getElementById("about")!;
    const canvas = document.querySelector(".b-canvas")!;

    let navbarVisible = false;

    const observer = new IntersectionObserver(
      ([entry]) => {
        if (entry.isIntersecting) {
          if (!navbarVisible) {
            // navbar.classList.add("show");
            navbarVisible = true;
            canvas.classList.add("hide")
          }
        } else {
          if (window.scrollY < triggerSection.offsetTop) {
            // navbar.classList.remove("show");
            navbarVisible = false;
            canvas.classList.remove("hide")
          }
        }
      },
      { threshold: 0.72 }
    );

    observer.observe(triggerSection);
  });
</script>
